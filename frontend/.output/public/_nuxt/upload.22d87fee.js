import{q as K,s as M,a as Q,v as W,r as o,x as X,f as p,y as Y,o as m,h as f,j as e,i,z as d,A as r,k as t,l as v,w as k,B as Z,C as ee}from"./entry.f6bc2839.js";import{a as le}from"./menu.7d380ea2.js";const u=g=>(Z("data-v-e2907f68"),g=g(),ee(),g),oe={id:"container",class:"card flex justify-content-center"},ae={class:"flex flex-column gap-3 container"},te={for:"title"},ie={class:"pi pi-info-circle"},se={key:0,class:"p-error"},re=u(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ne={for:"title"},de={class:"pi pi-info-circle"},ue={key:0,class:"p-error"},ce=u(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),pe={for:"name"},me={class:"pi pi-info-circle"},fe={key:0,class:"p-error"},_e=u(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ve={for:"email"},he={class:"pi pi-info-circle"},be={key:0,class:"p-error"},ge=u(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ye={for:"paperTitle"},xe={class:"pi pi-info-circle"},Ve={key:0,class:"p-error"},Te=u(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),De={for:"author"},Ue={class:"pi pi-info-circle"},Ee={key:0,class:"p-error"},qe=u(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),Ie={id:"description",class:"flex flex-column gap-2"},we={for:"Description"},ke={class:"pi pi-info-circle"},Ae={id:"tags",class:"flex flex-column gap-2"},Ce={for:"tags"},Oe={class:"pi pi-info-circle"},Se={class:"card p-fluid p-hidden-label"},Ne={id:"doi",class:"flex flex-column gap-2"},ze={for:"doi"},Re={class:"pi pi-info-circle"},Be={id:"originsDoi",class:"flex flex-column gap-2"},Fe={for:"originsDoi"},Pe={class:"pi pi-info-circle"},je=u(()=>e("p",{class:"flex justify-content-center"}," Drag and drop file here to upload. ",-1)),Le=u(()=>e("footer",null,[e("small",null,"* required field")],-1)),Je={__name:"upload",setup(g){M();const A=Q(),B=W("dialogRef"),c=o(""),h=o(!1),V=o(""),C=o(!1),T=o(""),O=o(!1),D=o(""),S=o(!1),U=o("");o(!1);const E=o(""),F=o(!1),q=o(""),P=o(!1),b=o(""),N=o(!1),I=o(""),z=o(!1);o(""),o(!1);const w=o(null),y=o();function R(){w.value.clear(),w.value.uploadedFileCount=0}async function j(x){const l=new FormData;if(l.append("acronym",c.value),l.append("title",V.value),l.append("paper_title",T.value),l.append("author",D.value),l.append("description",U.value),l.append("doi",E.value),l.append("origins_doi",q.value),l.append("submitter",JSON.stringify({name:b.value,email:I.value})),l.append("tags",y.value===void 0?[]:y.value),l.append("file",x.files[0]),c.value.length==0){R(),h.value=!0,A.add({severity:"error",summary:"Request Error",detail:"Dataset Acronym is required.",life:3e3});return}b.value=encodeURIComponent(b.value),await le.post("/api/requests",l,{headers:{"Content-Type":"multipart/form-data"}}).then(_=>{console.log(_.data),B.value.close(c.value)}).catch(_=>{console.log(_),A.add({severity:"error",summary:"Upload Error",detail:_.response.data.detail,life:3e3}),R()})}return X(c,x=>{h.value=x.length===0}),(x,l)=>{const _=p("Toast"),n=p("InputText"),L=p("TextArea"),J=p("Chips"),$=p("FileUpload"),G=p("TabPanel"),H=p("TabView"),s=Y("tooltip");return m(),f("div",oe,[e("div",ae,[i(_,{position:"bottom-right"}),e("div",{id:"acronym",class:d([{error:h.value},"flex flex-column gap-2"])},[e("label",te,[r(e("i",ie,null,512),[[s,"Acronym of the dataset",void 0,{right:!0}]]),t(" Dataset Acronym* ")]),i(n,{id:"acronym",modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=a=>c.value=a),"aria-describedby":"acronym-help",placeholder:"Dataset Acronym",onBlur:l[1]||(l[1]=a=>h.value=c.value.length===0)},null,8,["modelValue"]),h.value?(m(),f("small",se,[re,t(" Dataset Acronym is required and must be unique. ")])):v("",!0)],2),e("div",{id:"title",class:d([{error:C.value},"flex flex-column gap-2"])},[e("label",ne,[r(e("i",de,null,512),[[s,"Title of the dataset",void 0,{right:!0}]]),t(" Dataset Title ")]),i(n,{id:"title",modelValue:V.value,"onUpdate:modelValue":l[2]||(l[2]=a=>V.value=a),"aria-describedby":"title-help",placeholder:"Dataset Title"},null,8,["modelValue"]),C.value?(m(),f("small",ue,[ce,t(" Dataset Title is required. ")])):v("",!0)],2),e("div",{id:"name",class:d([{error:N.value},"flex flex-column gap-2"])},[e("label",pe,[r(e("i",me,null,512),[[s,"Name and surname of the submitter.",void 0,{right:!0}]]),t(" Submitter Name ")]),i(n,{id:"name",modelValue:b.value,"onUpdate:modelValue":l[3]||(l[3]=a=>b.value=a),"aria-describedby":"name-help",placeholder:"Name Surname"},null,8,["modelValue"]),N.value?(m(),f("small",fe,[_e,t(" Submitter Name is required. ")])):v("",!0)],2),e("div",{id:"email",class:d([{error:z.value},"flex flex-column gap-2"])},[e("label",ve,[r(e("i",he,null,512),[[s,"Email of the submitter.",void 0,{right:!0}]]),t(" Submitter Email ")]),i(n,{id:"email",modelValue:I.value,"onUpdate:modelValue":l[4]||(l[4]=a=>I.value=a),"aria-describedby":"email-help",placeholder:"submitter@email"},null,8,["modelValue"]),z.value?(m(),f("small",be,[ge,t(" Submitter Email is required. ")])):v("",!0)],2),e("div",{id:"paperTitle",class:d([{error:O.value},"flex flex-column gap-2"])},[e("label",ye,[r(e("i",xe,null,512),[[s,"Title of the dataset",void 0,{right:!0}]]),t(" Paper Title ")]),i(n,{id:"paperTitle",modelValue:T.value,"onUpdate:modelValue":l[5]||(l[5]=a=>T.value=a),"aria-describedby":"paperTitle-help",placeholder:"Paper Title"},null,8,["modelValue"]),O.value?(m(),f("small",Ve,[Te,t(" Paper Title is required. ")])):v("",!0)],2),e("div",{id:"paperTitle",class:d([{error:S.value},"flex flex-column gap-2"])},[e("label",De,[r(e("i",Ue,null,512),[[s,"Title of the dataset",void 0,{right:!0}]]),t(" Dataset Author ")]),i(n,{id:"author",modelValue:D.value,"onUpdate:modelValue":l[6]||(l[6]=a=>D.value=a),"aria-describedby":"author-help",placeholder:"Dataset Author"},null,8,["modelValue"]),S.value?(m(),f("small",Ee,[qe,t(" Dataset Author is required. ")])):v("",!0)],2),e("div",Ie,[e("label",we,[r(e("i",ke,null,512),[[s,"Description of the dataset.",void 0,{right:!0}]]),t(" Description ")]),r(i(L,{id:"description",modelValue:U.value,"onUpdate:modelValue":l[7]||(l[7]=a=>U.value=a),"aria-describedby":"description-help",placeholder:"Description...",rows:"5",cols:"30"},null,8,["modelValue"]),[[s,"The description of the dataset.",void 0,{bottom:!0}]])]),e("div",Ae,[e("label",Ce,[r(e("i",Oe,null,512),[[s,"Tags (words split by comma) to describe the dataset.",void 0,{right:!0}]]),t(" Tags ")]),e("div",Se,[r(i(J,{id:"tags",modelValue:y.value,"onUpdate:modelValue":l[8]||(l[8]=a=>y.value=a),separator:",",placeholder:"Tag","add-on-blur":"true","allow-duplicate":"false"},null,8,["modelValue"]),[[s,"Tags to describe the dataset.",void 0,{bottom:!0}]])])]),e("div",Ne,[e("label",ze,[r(e("i",Re,null,512),[[s,"DOI of the dataset.",void 0,{right:!0}]]),t(" DOI ")]),i(n,{id:"doi",modelValue:E.value,"onUpdate:modelValue":l[9]||(l[9]=a=>E.value=a),class:d({error:F.value}),"aria-describedby":"doi-help",placeholder:"DOI"},null,8,["modelValue","class"])]),e("div",Be,[e("label",Fe,[r(e("i",Pe,null,512),[[s,"Origins DOI of the dataset.",void 0,{right:!0}]]),t(" Origins DOI ")]),i(n,{id:"originsDoi",modelValue:q.value,"onUpdate:modelValue":l[10]||(l[10]=a=>q.value=a),class:d({error:P.value}),"aria-describedby":"originsDoi-help",placeholder:"Origins DOI"},null,8,["modelValue","class"])]),i(H,{id:"dataset-upload"},{default:k(()=>[i(G,{header:"Local File"},{default:k(()=>[i($,{name:"upload",auto:!1,multiple:!1,fileLimit:1,"custom-upload":"",ref_key:"fileUpload",ref:w,onUploader:j,"upload-label":"Submit"},{empty:k(()=>[je]),_:1},512)]),_:1})]),_:1}),Le])])}}},He=K(Je,[["__scopeId","data-v-e2907f68"]]);export{He as default};
