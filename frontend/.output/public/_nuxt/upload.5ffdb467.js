import{D as le,E as ae,e as oe,s as te,r as o,G as se,i as n,y as ie,o as u,j as _,m as e,k as t,H as c,z as r,q as s,p as h,c as X,w as D,I as re,J as de}from"./entry.2517c011.js";import{a as ne}from"./axios.4a70c6fc.js";const m=y=>(re("data-v-e22edea5"),y=y(),de(),y),ue={id:"container",class:"card flex justify-content-center"},ce={class:"flex flex-column gap-3 container"},pe={for:"title"},me={class:"pi pi-info-circle"},fe={key:0,class:"p-error"},_e=m(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ve={id:"acronym_aliases",class:"flex flex-column gap-2"},he={for:"acronym_aliases"},be={class:"pi pi-info-circle"},ge={class:"card p-fluid p-hidden-label"},ye={for:"title"},xe={class:"pi pi-info-circle"},Ve={key:0,class:"p-error"},Te=m(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),De={for:"name"},Ue={class:"pi pi-info-circle"},Ee={key:0,class:"p-error"},Ae=m(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),Se={for:"email"},ke={class:"pi pi-info-circle"},we={key:0,class:"p-error"},Ce=m(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),Ie={for:"paperTitle"},qe={class:"pi pi-info-circle"},Le={key:0,class:"p-error"},Fe=m(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),Ne={for:"authors"},ze={class:"pi pi-info-circle"},Oe={class:"card p-fluid p-hidden-label"},Re={key:0,class:"p-error"},Be=m(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),je={id:"description",class:"flex flex-column gap-2"},Pe={for:"Description"},Je={class:"pi pi-info-circle"},Ge={id:"format",class:"flex flex-column gap-2"},He={for:"format"},Xe={class:"pi pi-info-circle"},$e={id:"tags",class:"flex flex-column gap-2"},Ke={for:"tags"},Me={class:"pi pi-info-circle"},Qe={class:"card p-fluid p-hidden-label"},We={id:"doi",class:"flex flex-column gap-2"},Ye={for:"doi"},Ze={class:"pi pi-info-circle"},el={id:"originsDoi",class:"flex flex-column gap-2"},ll={for:"originsDoi"},al={class:"pi pi-info-circle"},ol={id:"uploadLater",class:"flex gap-2"},tl={for:"uploadLater"},sl={class:"pi pi-info-circle"},il=m(()=>e("p",{class:"flex justify-content-center"}," Drag and drop file here to upload. ",-1)),rl={class:"flex justify-content-center gap-2"},dl=m(()=>e("footer",null,[e("small",null,"* required field")],-1)),nl={__name:"upload",setup(y){ae();const z=oe(),$=te("dialogRef"),f=o(""),b=o(!1),x=o("");o(!1);const U=o(""),O=o(!1),E=o(""),R=o(!1),V=o(""),B=o(!1),A=o("");o(!1);const S=o(""),K=o(!1),k=o(""),M=o(!1),w=o(""),Q=o(!1),g=o(""),j=o(!1),C=o(""),P=o(!1),I=o("");o(!1);const q=o(null),T=o(),L=o(!1);function J(){q.value.clear(),q.value.uploadedFileCount=0}async function F(v){const l=new FormData;if(l.append("acronym",f.value),l.append("acronym_aliases",x.value===void 0?[]:x.value),l.append("title",U.value),l.append("paper_title",E.value),l.append("authors",V.value===void 0?[]:V.value),l.append("description",A.value),l.append("format",S.value),l.append("doi",k.value),l.append("origins_doi",w.value),l.append("submitter",JSON.stringify({name:g.value,email:C.value})),l.append("tags",T.value===void 0?[]:T.value),l.append("url",I.value),console.log(v.files),v.files!==void 0&&l.append("file",v.files[0]),f.value.length==0){J(),b.value=!0,z.add({severity:"error",summary:"Request Error",detail:"Dataset Acronym is required.",life:3e3});return}g.value=encodeURIComponent(g.value),l.forEach(p=>{console.log(p)}),await ne.post("/api/requests",l,{headers:{"Content-Type":"multipart/form-data"}}).then(p=>{console.log(p.data),$.value.close(f.value)}).catch(p=>{console.log(p),z.add({severity:"error",summary:"Upload Error",detail:p.response.data.detail,life:3e3}),J()})}return se(f,v=>{b.value=v.length===0}),(v,l)=>{const p=n("Toast"),d=n("InputText"),N=n("Chips"),W=n("TextArea"),Y=n("Checkbox"),G=n("Button"),Z=n("FileUpload"),H=n("TabPanel"),ee=n("TabView"),i=ie("tooltip");return u(),_("div",ue,[e("div",ce,[t(p,{position:"bottom-right"}),e("div",{id:"acronym",class:c([{error:b.value},"flex flex-column gap-2"])},[e("label",pe,[r(e("i",me,null,512),[[i,"Short name of the dataset (e.g. CESNET-TLS22) which is used as the unique identifier",void 0,{right:!0}]]),s(" Dataset Acronym* ")]),t(d,{id:"acronym",modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=a=>f.value=a),"aria-describedby":"acronym-help",placeholder:"Dataset Acronym",onBlur:l[1]||(l[1]=a=>b.value=f.value.length===0)},null,8,["modelValue"]),b.value?(u(),_("small",fe,[_e,s(" Dataset Acronym is required and must be unique. ")])):h("",!0)],2),e("div",ve,[e("label",he,[r(e("i",be,null,512),[[i,`Additional alias for the Dataset Acronym (e.g. CESNET-TLS22-XS).
Used to filter the different subsection of the original dataset`,void 0,{right:!0}]]),s(" Dataset Acronym Aliases ")]),e("div",ge,[r(t(N,{id:"acronym_aliases",modelValue:x.value,"onUpdate:modelValue":l[2]||(l[2]=a=>x.value=a),separator:",",placeholder:"Acronym Aliases...","add-on-blur":"true","allow-duplicate":"false"},null,8,["modelValue"]),[[i,"Acronym Aliases.",void 0,{bottom:!0}]])])]),e("div",{id:"title",class:c([{error:O.value},"flex flex-column gap-2"])},[e("label",ye,[r(e("i",xe,null,512),[[i,"Full name of the dataset",void 0,{right:!0}]]),s(" Dataset Title ")]),t(d,{id:"title",modelValue:U.value,"onUpdate:modelValue":l[3]||(l[3]=a=>U.value=a),"aria-describedby":"title-help",placeholder:"Dataset Title"},null,8,["modelValue"]),O.value?(u(),_("small",Ve,[Te,s(" Dataset Title is required. ")])):h("",!0)],2),e("div",{id:"name",class:c([{error:j.value},"flex flex-column gap-2"])},[e("label",De,[r(e("i",Ue,null,512),[[i,"Full name of the submitter",void 0,{right:!0}]]),s(" Submitter Name ")]),t(d,{id:"name",modelValue:g.value,"onUpdate:modelValue":l[4]||(l[4]=a=>g.value=a),"aria-describedby":"name-help",placeholder:"Name Surname"},null,8,["modelValue"]),j.value?(u(),_("small",Ee,[Ae,s(" Submitter Name is required. ")])):h("",!0)],2),e("div",{id:"email",class:c([{error:P.value},"flex flex-column gap-2"])},[e("label",Se,[r(e("i",ke,null,512),[[i,"Email of the submitter",void 0,{right:!0}]]),s(" Submitter Email ")]),t(d,{id:"email",modelValue:C.value,"onUpdate:modelValue":l[5]||(l[5]=a=>C.value=a),"aria-describedby":"email-help",placeholder:"submitter@email"},null,8,["modelValue"]),P.value?(u(),_("small",we,[Ce,s(" Submitter Email is required. ")])):h("",!0)],2),e("div",{id:"paperTitle",class:c([{error:R.value},"flex flex-column gap-2"])},[e("label",Ie,[r(e("i",qe,null,512),[[i,"Full title of the paper describing the dataset",void 0,{right:!0}]]),s(" Paper Title ")]),t(d,{id:"paperTitle",modelValue:E.value,"onUpdate:modelValue":l[6]||(l[6]=a=>E.value=a),"aria-describedby":"paperTitle-help",placeholder:"Paper Title"},null,8,["modelValue"]),R.value?(u(),_("small",Le,[Fe,s(" Paper Title is required. ")])):h("",!0)],2),e("div",{id:"datasetAuthors",class:c([{error:B.value},"flex flex-column gap-2"])},[e("label",Ne,[r(e("i",ze,null,512),[[i,"Authors of the dataset (comma separated)",void 0,{right:!0}]]),s(" Dataset Authors ")]),e("div",Oe,[r(t(N,{id:"authors",modelValue:V.value,"onUpdate:modelValue":l[7]||(l[7]=a=>V.value=a),separator:",",placeholder:"Authors...","add-on-blur":"true","allow-duplicate":"false"},null,8,["modelValue"]),[[i,"The dataset authors.",void 0,{bottom:!0}]])]),B.value?(u(),_("small",Re,[Be,s(" Dataset Author is required. ")])):h("",!0)],2),e("div",je,[e("label",Pe,[r(e("i",Je,null,512),[[i,"Short overview description of the dataset",void 0,{right:!0}]]),s(" Description ")]),r(t(W,{id:"description",modelValue:A.value,"onUpdate:modelValue":l[8]||(l[8]=a=>A.value=a),"aria-describedby":"description-help",placeholder:"Description...",rows:"5",cols:"30"},null,8,["modelValue"]),[[i,"The description of the dataset.",void 0,{bottom:!0}]])]),e("div",Ge,[e("label",He,[r(e("i",Xe,null,512),[[i,"Identify file format of the dataset (e.g. pcap, json, txt, â€¦)",void 0,{right:!0}]]),s(" Dataset Format ")]),t(d,{id:"format",modelValue:S.value,"onUpdate:modelValue":l[9]||(l[9]=a=>S.value=a),class:c({error:K.value}),"aria-describedby":"format-help",placeholder:"Format"},null,8,["modelValue","class"])]),e("div",$e,[e("label",Ke,[r(e("i",Me,null,512),[[i,"Use tags to categorize the dataset (comma separated)",void 0,{right:!0}]]),s(" Tags ")]),e("div",Qe,[r(t(N,{id:"tags",modelValue:T.value,"onUpdate:modelValue":l[10]||(l[10]=a=>T.value=a),separator:",",placeholder:"Tags...","add-on-blur":"true","allow-duplicate":"false"},null,8,["modelValue"]),[[i,"Tags to describe the dataset.",void 0,{bottom:!0}]])])]),e("div",We,[e("label",Ye,[r(e("i",Ze,null,512),[[i,"DOI of the dataset.",void 0,{right:!0}]]),s(" DOI ")]),t(d,{id:"doi",modelValue:k.value,"onUpdate:modelValue":l[11]||(l[11]=a=>k.value=a),class:c({error:M.value}),"aria-describedby":"doi-help",placeholder:"DOI"},null,8,["modelValue","class"])]),e("div",el,[e("label",ll,[r(e("i",al,null,512),[[i,"DOI of the original dataset",void 0,{right:!0}]]),s(" Origins DOI ")]),t(d,{id:"originsDoi",modelValue:w.value,"onUpdate:modelValue":l[12]||(l[12]=a=>w.value=a),class:c({error:Q.value}),"aria-describedby":"originsDoi-help",placeholder:"Origins DOI"},null,8,["modelValue","class"])]),e("div",ol,[e("label",tl,[r(e("i",sl,null,512),[[i,"Upload a file or URL later.",void 0,{right:!0}]]),s(" Upload Later ")]),t(Y,{id:"uploadLater",modelValue:L.value,"onUpdate:modelValue":l[13]||(l[13]=a=>L.value=a),binary:!0},null,8,["modelValue"])]),L.value?(u(),X(G,{key:0,label:"Submit",icon:"pi pi-upload",onClick:F})):(u(),X(ee,{key:1,id:"dataset-upload"},{default:D(()=>[t(H,{header:"Local File"},{default:D(()=>[t(Z,{name:"upload",auto:!1,multiple:!1,fileLimit:1,"custom-upload":"",ref_key:"fileUpload",ref:q,onUploader:F,"upload-label":"Submit"},{empty:D(()=>[il]),_:1},512)]),_:1}),t(H,{header:"URL"},{default:D(()=>[e("div",rl,[t(d,{id:"url",modelValue:I.value,"onUpdate:modelValue":l[14]||(l[14]=a=>I.value=a),"aria-describedby":"url-help",placeholder:"URL",class:"w-8"},null,8,["modelValue"]),t(G,{label:"Submit",icon:"pi pi-upload",onClick:F,class:"w-4"})])]),_:1})]),_:1})),dl])])}}},pl=le(nl,[["__scopeId","data-v-e22edea5"]]);export{pl as default};
