import{D as G,e as J,r as a,G as V,i as x,j as i,k as o,w as I,o as u,m as n,u as s,l as f,q as v,p as g,B as A,I as H,J as K}from"./entry.281a66c0.js";import{a as C}from"./axios.4a70c6fc.js";const w=k=>(H("data-v-2015562f"),k=k(),K(),k),M={class:"flex flex-column gap-3 container"},O={class:"flex flex-column gap-3"},Q={key:0,class:"p-error"},W=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),X={key:1,class:"p-error"},Y=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),Z={class:"flex flex-column gap-3"},ee={key:0,class:"p-error"},le=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),se={key:1,class:"p-error"},te=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ae={key:2,class:"p-error"},oe=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),re={key:3,class:"p-error"},ne=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ie={key:4,class:"p-error"},ue=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),de={__name:"login",setup(k){const z=J(),y=a(""),U=a(!1),h=a(""),N=a(!1),D=()=>y.value==""?(U.value=!0,!1):h.value==""?(N.value=!0,!1):!0,E=()=>{const l=new FormData;l.append("email",y.value),l.append("password",h.value),console.log("login"),console.log(l),D()&&C.post("/auth/login",l).then(e=>{A("/")}).catch(e=>{z.add({severity:"error",summary:"Login Failed",detail:"There was an error logging in",life:3e3})})},d=a(""),T=a(!1),p=a(""),B=a(!1),m=a(""),b=a(!1),r=a(""),q=a(!1),c=a(""),R=a(!1),F=()=>d.value==""?(T.value=!0,!1):p.value==""?(B.value=!0,!1):m.value==""?(b.value=!0,!1):r.value==""?(q.value=!0,!1):c.value==""?(R.value=!0,!1):!0,$=()=>{const l=new FormData;if(l.append("email",d.value),l.append("name",p.value),l.append("surname",m.value),l.append("password",r.value),!F()){console.log("Form is not valid");return}C.post("/auth/register",l).then(e=>{console.log(e.data),z.add({severity:"success",summary:"Register Success",detail:"Registration successful",life:3e3})}).catch(e=>{z.add({severity:"error",summary:"Register Failed",detail:e.response.data,life:3e3})})};return V(d,l=>{T.value=l.length===0}),V(p,l=>{B.value=l.length===0}),V(m,l=>{b.value=l.length===0}),V(r,l=>{q.value=l.length===0}),V(c,l=>{R.value=l.length===0||l!==r}),(l,e)=>{const L=x("Toast"),_=x("InputText"),P=x("Button"),S=x("TabPanel"),j=x("TabView");return u(),i("div",M,[o(L,{position:"bottom-right"}),o(j,{id:"login-register"},{default:I(()=>[o(S,{header:"Login"},{default:I(()=>[n("div",O,[o(_,{id:"email",autocomplete:"email",modelValue:s(y),"onUpdate:modelValue":e[0]||(e[0]=t=>f(y)?y.value=t:null),placeholder:"Email",type:"text"},null,8,["modelValue"]),s(U)?(u(),i("small",Q,[W,v(" Email is required. ")])):g("",!0),o(_,{id:"password",autocomplete:"current-password",modelValue:s(h),"onUpdate:modelValue":e[1]||(e[1]=t=>f(h)?h.value=t:null),placeholder:"password",type:"password"},null,8,["modelValue"]),s(N)?(u(),i("small",X,[Y,v(" Password is required. ")])):g("",!0),o(P,{label:"Login",onClick:E})])]),_:1}),o(S,{header:"Register"},{default:I(()=>[n("div",Z,[o(_,{id:"register-email",autocomplete:"email",modelValue:s(d),"onUpdate:modelValue":e[2]||(e[2]=t=>f(d)?d.value=t:null),placeholder:"Email",type:"text",onBlur:e[3]||(e[3]=t=>T.value=s(d).length===0)},null,8,["modelValue"]),s(T)?(u(),i("small",ee,[le,v(" Email is required. ")])):g("",!0),o(_,{id:"register-name",autocomplete:"name",modelValue:s(p),"onUpdate:modelValue":e[4]||(e[4]=t=>f(p)?p.value=t:null),placeholder:"Name",type:"text",onBlur:e[5]||(e[5]=t=>B.value=s(p).length===0)},null,8,["modelValue"]),s(B)?(u(),i("small",se,[te,v(" Name is required. ")])):g("",!0),o(_,{id:"register-surname",autocomplete:"surname",modelValue:s(m),"onUpdate:modelValue":e[6]||(e[6]=t=>f(m)?m.value=t:null),placeholder:"Surname",type:"text",onBlur:e[7]||(e[7]=t=>b.value=s(m).length===0)},null,8,["modelValue"]),s(b)?(u(),i("small",ae,[oe,v(" Surname is required. ")])):g("",!0),o(_,{id:"register-password",autocomplete:"password",modelValue:s(r),"onUpdate:modelValue":e[8]||(e[8]=t=>f(r)?r.value=t:null),placeholder:"Password",type:"password",onBlur:e[9]||(e[9]=t=>q.value=s(r).length===0)},null,8,["modelValue"]),s(q)?(u(),i("small",re,[ne,v(" Password is required. ")])):g("",!0),o(_,{id:"repeat-password",modelValue:s(c),"onUpdate:modelValue":e[10]||(e[10]=t=>f(c)?c.value=t:null),placeholder:"Repeat Password",type:"password",onBlur:e[11]||(e[11]=t=>R.value=s(c).length===0||s(c)!==s(r))},null,8,["modelValue"]),s(R)?(u(),i("small",ie,[ue,v(" Repeat password is required and both passwords must match. ")])):g("",!0),o(P,{label:"Register",onClick:$})])]),_:1})]),_:1})])}}},ce=G(de,[["__scopeId","data-v-2015562f"]]);export{ce as default};
