import{_ as Y,al as Z,n as ee,T as le,r as a,f as ae,q as te,c as v,o as m,a as l,b as o,B as j,y as oe,a9 as u,C as h,aa as r,d as s,G as se,ai as ie,aj as re,aJ as de,w as x,ao as ne,ak as ue,D as pe,an as me,ab as ce}from"./NsHqofmf.js";import{a as O}from"./DW_MHI2K.js";const fe={id:"container",class:"card flex justify-center"},ve={class:"flex flex-col gap-4 container"},be={for:"title"},he={class:"pi pi-info-circle"},_e={key:0,class:"p-error"},ge={id:"versions",class:"flex flex-col gap-2"},ye={for:"versions"},Ve={class:"pi pi-info-circle"},xe={for:"name"},Te={class:"pi pi-info-circle"},Ue={key:0,class:"p-error"},De={for:"email"},Ee={class:"pi pi-info-circle"},ke={key:0,class:"p-error"},Se={for:"paperTitle"},Le={class:"pi pi-info-circle"},qe={key:0,class:"p-error"},Ce={for:"authors"},we={class:"pi pi-info-circle"},Ne={key:0,class:"p-error"},Ae={id:"description",class:"flex flex-col gap-2"},Re={for:"Description"},$e={class:"pi pi-info-circle"},Fe={id:"format",class:"flex flex-col gap-2"},ze={for:"format"},Be={class:"pi pi-info-circle"},Ie={id:"label_name",class:"flex flex-col gap-2"},je={for:"label_name"},Oe={class:"pi pi-info-circle"},Pe={id:"tags",class:"flex flex-col gap-2"},Je={for:"tags"},Ge={class:"pi pi-info-circle"},Me={id:"doi",class:"flex flex-col gap-2"},Xe={for:"doi"},He={class:"pi pi-info-circle"},Ke={id:"uploadLater",class:"flex gap-2"},Qe={for:"uploadLater"},We={class:"pi pi-info-circle"},Ye={class:"flex justify-center gap-2"},Ze={__name:"upload",setup(el){Z();const w=ee(),P=le("dialogRef"),c=a(""),b=a(!1),_=a(""),J=a(!1);a(""),a(!1);const T=a(""),N=a(!1),g=a(""),A=a(!1),U=a("");a(!1);const D=a(""),G=a(!1),E=a(""),M=a(!1),k=a(""),X=a(!1),f=a(""),R=a(!1),y=a(""),$=a(!1),S=a("");a(!1);const L=a(null),V=a(),q=a(!1);function F(){L.value.clear(),L.value.uploadedFileCount=0}async function C(d){const e=new FormData;if(e.append("acronym",c.value),e.append("versions",_.value===void 0?[]:_.value),e.append("paper_title",T.value),e.append("authors",g.value===void 0?[]:g.value),e.append("description",U.value),e.append("format",D.value),e.append("doi",k.value),e.append("submitter",JSON.stringify({name:f.value,email:y.value})),e.append("tags",V.value===void 0?[]:V.value),e.append("url",S.value),e.append("label_name",E.value),console.log(d.files),d.files!==void 0&&e.append("file",d.files[0]),c.value.length==0){F(),b.value=!0,w.add({severity:"error",summary:"Request Error",detail:"Dataset Acronym is required.",life:3e3});return}f.value=encodeURIComponent(f.value),e.forEach(p=>{console.log(p)}),await O.post("/api/requests",e,{headers:{"Content-Type":"multipart/form-data"}}).then(p=>{console.log(p.data),P.value.close(c.value)}).catch(p=>{console.log(p),w.add({severity:"error",summary:"Upload Error",detail:p.response.data.detail,life:3e3}),F()})}return ae(c,d=>{b.value=d.length===0}),te(()=>{O.get("/api/users/me").then(d=>{let e="";d.data.name!==void 0&&(e+=d.data.name),d.data.surname!==void 0&&(e+=" "+d.data.surname),f.value=e,d.data.email!==void 0&&(y.value=d.data.email)}).catch()}),(d,e)=>{const p=oe,n=se,z=ie,H=re,K=de,B=pe,Q=ue,I=ne,W=me,i=ce;return m(),v("div",fe,[l("div",ve,[o(p,{position:"bottom-right"}),l("div",{id:"acronym",class:u([{error:b.value},"flex flex-col gap-2"])},[l("label",be,[r(l("i",he,null,512),[[i,"Short name of the dataset (e.g. CESNET-TLS22) which is used as the unique identifier",void 0,{right:!0}]]),e[14]||(e[14]=s(" Dataset Title* "))]),o(n,{id:"acronym",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=t=>c.value=t),"aria-describedby":"acronym-help",placeholder:"Dataset Title",onBlur:e[1]||(e[1]=t=>b.value=c.value.length===0)},null,8,["modelValue"]),b.value?(m(),v("small",_e,e[15]||(e[15]=[l("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1),s(" Dataset Acronym is required and must be unique. ")]))):h("",!0)],2),l("div",ge,[l("label",ye,[r(l("i",Ve,null,512),[[i,`Additional version for the Dataset Acronym (e.g. CESNET-TLS22-XS).
Used to filter the different subsection of the original dataset`,void 0,{right:!0}]]),e[16]||(e[16]=s(" Dataset Versions "))]),o(n,{id:"versions",modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=t=>_.value=t),class:u({error:J.value}),"aria-describedby":"versions",placeholder:"Versions..."},null,8,["modelValue","class"])]),l("div",{id:"name",class:u([{error:R.value},"flex flex-col gap-2"])},[l("label",xe,[r(l("i",Te,null,512),[[i,"Full name of the submitter",void 0,{right:!0}]]),e[17]||(e[17]=s(" Submitter Name "))]),o(n,{id:"name",modelValue:f.value,"onUpdate:modelValue":e[3]||(e[3]=t=>f.value=t),"aria-describedby":"name-help",placeholder:"Name Surname",disabled:""},null,8,["modelValue"]),R.value?(m(),v("small",Ue,e[18]||(e[18]=[l("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1),s(" Submitter Name is required. ")]))):h("",!0)],2),l("div",{id:"email",class:u([{error:$.value},"flex flex-col gap-2"])},[l("label",De,[r(l("i",Ee,null,512),[[i,"Email of the submitter",void 0,{right:!0}]]),e[19]||(e[19]=s(" Submitter Email "))]),o(n,{id:"email",modelValue:y.value,"onUpdate:modelValue":e[4]||(e[4]=t=>y.value=t),"aria-describedby":"email-help",placeholder:"submitter@email",disabled:""},null,8,["modelValue"]),$.value?(m(),v("small",ke,e[20]||(e[20]=[l("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1),s(" Submitter Email is required. ")]))):h("",!0)],2),l("div",{id:"paperTitle",class:u([{error:N.value},"flex flex-col gap-2"])},[l("label",Se,[r(l("i",Le,null,512),[[i,"Full title of the paper describing the dataset",void 0,{right:!0}]]),e[21]||(e[21]=s(" Paper Title "))]),o(n,{id:"paperTitle",modelValue:T.value,"onUpdate:modelValue":e[5]||(e[5]=t=>T.value=t),"aria-describedby":"paperTitle-help",placeholder:"Paper Title"},null,8,["modelValue"]),N.value?(m(),v("small",qe,e[22]||(e[22]=[l("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1),s(" Paper Title is required. ")]))):h("",!0)],2),l("div",{id:"datasetAuthors",class:u([{error:A.value},"flex flex-col gap-2"])},[l("label",Ce,[r(l("i",we,null,512),[[i,"Authors of the dataset (comma separated)",void 0,{right:!0}]]),e[23]||(e[23]=s(" Dataset Authors "))]),r(o(z,{id:"authors",modelValue:g.value,"onUpdate:modelValue":e[6]||(e[6]=t=>g.value=t),placeholder:"Authors...","aria-describedby":"authors-help",multiple:!0,typeahead:!1},null,8,["modelValue"]),[[i,"The dataset authors.",void 0,{bottom:!0}]]),A.value?(m(),v("small",Ne,e[24]||(e[24]=[l("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1),s(" Dataset Author is required. ")]))):h("",!0)],2),l("div",Ae,[l("label",Re,[r(l("i",$e,null,512),[[i,"Short overview description of the dataset",void 0,{right:!0}]]),e[25]||(e[25]=s(" Description "))]),r(o(H,{id:"description",modelValue:U.value,"onUpdate:modelValue":e[7]||(e[7]=t=>U.value=t),"aria-describedby":"description-help",placeholder:"Description...",rows:"5",cols:"30"},null,8,["modelValue"]),[[i,"The description of the dataset.",void 0,{bottom:!0}]])]),l("div",Fe,[l("label",ze,[r(l("i",Be,null,512),[[i,"Identify file format of the dataset (e.g. pcap, json, txt, â€¦)",void 0,{right:!0}]]),e[26]||(e[26]=s(" Dataset Format "))]),o(n,{id:"format",modelValue:D.value,"onUpdate:modelValue":e[8]||(e[8]=t=>D.value=t),class:u({error:G.value}),"aria-describedby":"format-help",placeholder:"Format"},null,8,["modelValue","class"])]),l("div",Ie,[l("label",je,[r(l("i",Oe,null,512),[[i,"The Label",void 0,{right:!0}]]),e[27]||(e[27]=s(" Dataset Label Name "))]),o(n,{id:"label_name",modelValue:E.value,"onUpdate:modelValue":e[9]||(e[9]=t=>E.value=t),class:u({error:M.value}),"aria-describedby":"label_name-help",placeholder:"Label Name"},null,8,["modelValue","class"])]),l("div",Pe,[l("label",Je,[r(l("i",Ge,null,512),[[i,"Use tags to categorize the dataset (comma separated)",void 0,{right:!0}]]),e[28]||(e[28]=s(" Tags "))]),r(o(z,{id:"tags",modelValue:V.value,"onUpdate:modelValue":e[10]||(e[10]=t=>V.value=t),placeholder:"Tags...","aria-describedby":"tags-help",multiple:!0,typeahead:!1},null,8,["modelValue"]),[[i,"Tags to describe the dataset.",void 0,{bottom:!0}]])]),l("div",Me,[l("label",Xe,[r(l("i",He,null,512),[[i,"DOI of the dataset.",void 0,{right:!0}]]),e[29]||(e[29]=s(" DOI "))]),o(n,{id:"doi",modelValue:k.value,"onUpdate:modelValue":e[11]||(e[11]=t=>k.value=t),class:u({error:X.value}),"aria-describedby":"doi-help",placeholder:"DOI"},null,8,["modelValue","class"])]),l("div",Ke,[l("label",Qe,[r(l("i",We,null,512),[[i,"Upload a file or URL later.",void 0,{right:!0}]]),e[30]||(e[30]=s(" Upload Later "))]),o(K,{id:"uploadLater",modelValue:q.value,"onUpdate:modelValue":e[12]||(e[12]=t=>q.value=t),binary:!0},null,8,["modelValue"])]),q.value?(m(),j(B,{key:0,label:"Submit",icon:"pi pi-upload",onClick:C})):(m(),j(W,{key:1,id:"dataset-upload"},{default:x(()=>[o(I,{header:"Local File"},{default:x(()=>[o(Q,{name:"upload",auto:!1,multiple:!1,fileLimit:1,"custom-upload":"",ref_key:"fileUpload",ref:L,onUploader:C,"upload-label":"Submit"},{empty:x(()=>e[31]||(e[31]=[l("p",{class:"flex justify-center"}," Drag and drop file here to upload. ",-1)])),_:1},512)]),_:1}),o(I,{header:"URL"},{default:x(()=>[l("div",Ye,[o(n,{id:"url",modelValue:S.value,"onUpdate:modelValue":e[13]||(e[13]=t=>S.value=t),"aria-describedby":"url-help",placeholder:"URL",class:"w-8/12"},null,8,["modelValue"]),o(B,{label:"Submit",icon:"pi pi-upload",onClick:C,class:"w-4/12"})])]),_:1})]),_:1})),e[32]||(e[32]=l("footer",null,[l("small",null,"* required field")],-1))])])}}},tl=Y(Ze,[["__scopeId","data-v-6eb4fef3"]]);export{tl as default};
