import{D as I,E as C,e as R,s as U,r as a,G as q,i as p,y as D,o as b,j as g,m as o,k as n,H as N,z as r,q as d,p as B,I as E,J as S}from"./entry.2517c011.js";import{a as K}from"./axios.4a70c6fc.js";const y=u=>(E("data-v-22883eac"),u=u(),S(),u),j={id:"container",class:"card flex justify-content-center"},z={class:"flex flex-column gap-3 container"},L={for:"title"},A={class:"pi pi-info-circle"},F={key:0,class:"p-error"},G=y(()=>o("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),H={id:"url",class:"flex flex-column gap-2"},J={for:"url"},O={class:"pi pi-info-circle"},$={id:"description",class:"flex flex-column gap-2"},M={for:"Description"},P={class:"pi pi-info-circle"},Q={id:"known_issues",class:"flex flex-column gap-2"},W={for:"Known Issues"},X={class:"pi pi-info-circle"},Y=y(()=>o("footer",null,[o("small",null,"* required field")],-1)),Z={__name:"create_tool",setup(u){C();const h=R(),V=U("dialogRef"),t=a(""),c=a(!1),m=a("");a(!1);const _=a("");a(!1);const f=a("");a(!1);async function T(v){const e=new FormData;if(e.append("name",t.value),e.append("description",m.value),e.append("known_issues",_.value),e.append("url",f.value),t.value.length==0){c.value=!0,h.add({severity:"error",summary:"Request Error",detail:"Collectio Tool Name is required.",life:3e3});return}t.value=encodeURIComponent(t.value),e.forEach(l=>{console.log(l)}),await K.post("/api/collectionTools",e,{headers:{"Content-Type":"multipart/form-data"}}).then(l=>{console.log(l.data),V.value.close(t.value)}).catch(l=>{console.log(l),h.add({severity:"error",summary:"Upload Error",detail:l.response.data.detail,life:3e3})})}return q(t,v=>{c.value=v.length===0}),(v,e)=>{const l=p("Toast"),x=p("InputText"),w=p("TextArea"),k=p("Button"),i=D("tooltip");return b(),g("div",j,[o("div",z,[n(l,{position:"bottom-right"}),o("div",{id:"name",class:N([{error:c.value},"flex flex-column gap-2"])},[o("label",L,[r(o("i",A,null,512),[[i,"Short name of the collection tool (e.g. ipfixprobe) which is used as the unique identifier",void 0,{right:!0}]]),d(" Collection Tool Name* ")]),n(x,{id:"name",modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=s=>t.value=s),"aria-describedby":"acronym-help",placeholder:"Collection Tool Name",onBlur:e[1]||(e[1]=s=>c.value=t.value.length===0)},null,8,["modelValue"]),c.value?(b(),g("small",F,[G,d(" Collection tool name is required and must be unique. ")])):B("",!0)],2),o("div",H,[o("label",J,[r(o("i",O,null,512),[[i,"URL where the collection tool may be found.",void 0,{right:!0}]]),d(" URL ")]),n(x,{id:"url",modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=s=>f.value=s),"aria-describedby":"url-help",placeholder:"URL"},null,8,["modelValue"])]),o("div",$,[o("label",M,[r(o("i",P,null,512),[[i,"Overview description of the collection tool",void 0,{right:!0}]]),d(" Description ")]),r(n(w,{id:"description",modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=s=>m.value=s),"aria-describedby":"description-help",placeholder:"Description...",rows:"5",cols:"30"},null,8,["modelValue"]),[[i,"The description of the dataset.",void 0,{bottom:!0}]])]),o("div",Q,[o("label",W,[r(o("i",X,null,512),[[i,"Known issues of the collection tool",void 0,{right:!0}]]),d(" Known Issues ")]),r(n(w,{id:"known_issues",modelValue:_.value,"onUpdate:modelValue":e[4]||(e[4]=s=>_.value=s),"aria-describedby":"known_issues-help",placeholder:"Known Issues...",rows:"5",cols:"30"},null,8,["modelValue"]),[[i,"The known issues of the dataset.",void 0,{bottom:!0}]])]),n(k,{label:"Submit",icon:"pi pi-upload",onClick:T,class:"w-4"}),Y])])}}},te=I(Z,[["__scopeId","data-v-22883eac"]]);export{te as default};
