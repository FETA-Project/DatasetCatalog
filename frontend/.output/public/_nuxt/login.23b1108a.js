import{a as S}from"./menu.de1ac60a.js";import{q as H,a as A,r as o,x,f as V,o as i,h as u,i as a,w as U,j as n,u as s,H as f,k as v,l as g,B as G,C as J}from"./entry.36ad8f8e.js";const w=k=>(G("data-v-711032f5"),k=k(),J(),k),K={class:"flex flex-column gap-3 container"},M={class:"flex flex-column gap-3"},O={key:0,class:"p-error"},Q=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),W={key:1,class:"p-error"},X=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),Y={class:"flex flex-column gap-3"},Z={key:0,class:"p-error"},ee=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),le={key:1,class:"p-error"},se=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),te={key:2,class:"p-error"},oe=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ae={key:3,class:"p-error"},re=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ne={key:4,class:"p-error"},ie=w(()=>n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ue={__name:"login",setup(k){const z=A(),y=o(""),C=o(!1),h=o(""),I=o(!1),E=()=>y.value==""?(C.value=!0,!1):h.value==""?(I.value=!0,!1):!0,F=()=>{const l=new FormData;l.append("email",y.value),l.append("password",h.value),console.log("login"),console.log(l),E()&&S.post("/auth/login",l).then(e=>{location.reload()}).catch(e=>{z.add({severity:"error",summary:"Login Failed",detail:"There was an error logging in",life:3e3})})},d=o(""),B=o(!1),p=o(""),T=o(!1),m=o(""),b=o(!1),r=o(""),q=o(!1),c=o(""),R=o(!1),$=()=>d.value==""?(B.value=!0,!1):p.value==""?(T.value=!0,!1):m.value==""?(b.value=!0,!1):r.value==""?(q.value=!0,!1):c.value==""?(R.value=!0,!1):!0,D=()=>{const l=new FormData;if(l.append("email",d.value),l.append("name",p.value),l.append("surname",m.value),l.append("password",r.value),!$()){console.log("Form is not valid");return}S.post("/auth/register",l).then(e=>{console.log(e.data),z.add({severity:"success",summary:"Register Success",detail:"Registration successful",life:3e3})}).catch(e=>{z.add({severity:"error",summary:"Register Failed",detail:e.response.data,life:3e3})})};return x(d,l=>{B.value=l.length===0}),x(p,l=>{T.value=l.length===0}),x(m,l=>{b.value=l.length===0}),x(r,l=>{q.value=l.length===0}),x(c,l=>{R.value=l.length===0||l!==r}),(l,e)=>{const L=V("Toast"),_=V("InputText"),N=V("Button"),P=V("TabPanel"),j=V("TabView");return i(),u("div",K,[a(L,{position:"bottom-right"}),a(j,{id:"login-register"},{default:U(()=>[a(P,{header:"Login"},{default:U(()=>[n("div",M,[a(_,{id:"email",autocomplete:"email",modelValue:s(y),"onUpdate:modelValue":e[0]||(e[0]=t=>f(y)?y.value=t:null),placeholder:"Email",type:"text"},null,8,["modelValue"]),s(C)?(i(),u("small",O,[Q,v(" Email is required. ")])):g("",!0),a(_,{id:"password",autocomplete:"current-password",modelValue:s(h),"onUpdate:modelValue":e[1]||(e[1]=t=>f(h)?h.value=t:null),placeholder:"password",type:"password"},null,8,["modelValue"]),s(I)?(i(),u("small",W,[X,v(" Password is required. ")])):g("",!0),a(N,{label:"Login",onClick:F})])]),_:1}),a(P,{header:"Register"},{default:U(()=>[n("div",Y,[a(_,{id:"register-email",autocomplete:"email",modelValue:s(d),"onUpdate:modelValue":e[2]||(e[2]=t=>f(d)?d.value=t:null),placeholder:"Email",type:"text",onBlur:e[3]||(e[3]=t=>B.value=s(d).length===0)},null,8,["modelValue"]),s(B)?(i(),u("small",Z,[ee,v(" Email is required. ")])):g("",!0),a(_,{id:"register-name",autocomplete:"name",modelValue:s(p),"onUpdate:modelValue":e[4]||(e[4]=t=>f(p)?p.value=t:null),placeholder:"Name",type:"text",onBlur:e[5]||(e[5]=t=>T.value=s(p).length===0)},null,8,["modelValue"]),s(T)?(i(),u("small",le,[se,v(" Name is required. ")])):g("",!0),a(_,{id:"register-surname",autocomplete:"surname",modelValue:s(m),"onUpdate:modelValue":e[6]||(e[6]=t=>f(m)?m.value=t:null),placeholder:"Surname",type:"text",onBlur:e[7]||(e[7]=t=>b.value=s(m).length===0)},null,8,["modelValue"]),s(b)?(i(),u("small",te,[oe,v(" Surname is required. ")])):g("",!0),a(_,{id:"register-password",autocomplete:"password",modelValue:s(r),"onUpdate:modelValue":e[8]||(e[8]=t=>f(r)?r.value=t:null),placeholder:"Password",type:"password",onBlur:e[9]||(e[9]=t=>q.value=s(r).length===0)},null,8,["modelValue"]),s(q)?(i(),u("small",ae,[re,v(" Password is required. ")])):g("",!0),a(_,{id:"repeat-password",modelValue:s(c),"onUpdate:modelValue":e[10]||(e[10]=t=>f(c)?c.value=t:null),placeholder:"Repeat Password",type:"password",onBlur:e[11]||(e[11]=t=>R.value=s(c).length===0||s(c)!==s(r))},null,8,["modelValue"]),s(R)?(i(),u("small",ne,[ie,v(" Repeat password is required and both passwords must match. ")])):g("",!0),a(N,{label:"Register",onClick:D})])]),_:1})]),_:1})])}}},me=H(ue,[["__scopeId","data-v-711032f5"]]);export{me as default};
