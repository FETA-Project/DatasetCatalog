import{a as l}from"./axios.4a70c6fc.js";import{D as b,r as i,h as f,f as v,i as t,o as c,j as k,k as n,w as x,u as r,c as w,p as C}from"./entry.d3730132.js";const M={class:"card relative z-2"},y={__name:"menu",setup(D){const a=i(null);f(()=>{l.get("/api/users/me").then(o=>{console.log(o.data),a.value=o.data}).catch()});const u=()=>!0,_=i([{label:"Catalog",icon:"pi pi-fw pi-home",to:"/"},{label:"Users",icon:"pi pi-fw pi-users",to:"/users",visible:()=>u()},{label:"Collection Tools",icon:"pi pi-fw pi-search",to:"/collection_tools"}]);v();const p=()=>{l.get("/auth/logout").then(o=>{console.log(o),localStorage.removeItem("user"),location.replace("/")})},m=()=>{document.cookie="authToken=; Max-Age=0; Path=/;",window.location.href="/Shibboleth.sso/Logout?return=/Shibboleth.sso/Login"};return(o,e)=>{const s=t("Button"),d=t("Menubar"),g=t("DynamicDialog");return c(),k("div",M,[n(d,{model:r(_)},{end:x(()=>[n(s,{text:"",plain:"",severity:"danger",label:"Logout",onClick:e[0]||(e[0]=h=>m())}),r(a)?(c(),w(s,{key:0,text:"",plain:"",label:"local logout",onClick:e[1]||(e[1]=h=>p())})):C("",!0)]),_:1},8,["model"]),n(g)])}}},S=b(y,[["__scopeId","data-v-5a2e85cf"]]);export{S as M};
