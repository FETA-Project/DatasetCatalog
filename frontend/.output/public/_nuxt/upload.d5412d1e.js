import{z as le,A as ae,b as oe,i as te,q as o,B as ie,r as n,m as se,o as u,e as _,j as e,h as t,C as c,p as r,k as i,l as v,c as G,w as D,D as re,E as de}from"./entry.18922f6a.js";import{a as ne}from"./menu.f91da9d2.js";const m=y=>(re("data-v-e22edea5"),y=y(),de(),y),ue={id:"container",class:"card flex justify-content-center"},ce={class:"flex flex-column gap-3 container"},pe={for:"title"},me={class:"pi pi-info-circle"},fe={key:0,class:"p-error"},_e=m(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),he={id:"acronym_aliases",class:"flex flex-column gap-2"},ve={for:"acronym_aliases"},be={class:"pi pi-info-circle"},ge={class:"card p-fluid p-hidden-label"},ye={for:"title"},xe={class:"pi pi-info-circle"},Ve={key:0,class:"p-error"},Te=m(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),De={for:"name"},Ue={class:"pi pi-info-circle"},Ee={key:0,class:"p-error"},Ae=m(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),Se={for:"email"},ke={class:"pi pi-info-circle"},we={key:0,class:"p-error"},Ce=m(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),qe={for:"paperTitle"},Ie={class:"pi pi-info-circle"},Le={key:0,class:"p-error"},Fe=m(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),Ne={for:"authors"},ze={class:"pi pi-info-circle"},Oe={class:"card p-fluid p-hidden-label"},Re={key:0,class:"p-error"},Be=m(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),je={id:"description",class:"flex flex-column gap-2"},Pe={for:"Description"},Je={class:"pi pi-info-circle"},Xe={id:"format",class:"flex flex-column gap-2"},$e={for:"format"},Ge={class:"pi pi-info-circle"},He={id:"tags",class:"flex flex-column gap-2"},Ke={for:"tags"},Me={class:"pi pi-info-circle"},Qe={class:"card p-fluid p-hidden-label"},We={id:"doi",class:"flex flex-column gap-2"},Ye={for:"doi"},Ze={class:"pi pi-info-circle"},el={id:"originsDoi",class:"flex flex-column gap-2"},ll={for:"originsDoi"},al={class:"pi pi-info-circle"},ol={id:"uploadLater",class:"flex gap-2"},tl={for:"uploadLater"},il={class:"pi pi-info-circle"},sl=m(()=>e("p",{class:"flex justify-content-center"}," Drag and drop file here to upload. ",-1)),rl={class:"flex justify-content-center gap-2"},dl=m(()=>e("footer",null,[e("small",null,"* required field")],-1)),nl={__name:"upload",setup(y){ae();const z=oe(),H=te("dialogRef"),f=o(""),b=o(!1),x=o("");o(!1);const U=o(""),O=o(!1),E=o(""),R=o(!1),V=o(""),B=o(!1),A=o("");o(!1);const S=o(""),K=o(!1),k=o(""),M=o(!1),w=o(""),Q=o(!1),g=o(""),j=o(!1),C=o(""),P=o(!1),q=o("");o(!1);const I=o(null),T=o(),L=o(!1);function J(){I.value.clear(),I.value.uploadedFileCount=0}async function F(h){const l=new FormData;if(l.append("acronym",f.value),l.append("acronym_aliases",x.value===void 0?[]:x.value),l.append("title",U.value),l.append("paper_title",E.value),l.append("authors",V.value===void 0?[]:V.value),l.append("description",A.value),l.append("format",S.value),l.append("doi",k.value),l.append("origins_doi",w.value),l.append("submitter",JSON.stringify({name:g.value,email:C.value})),l.append("tags",T.value===void 0?[]:T.value),l.append("url",q.value),console.log(h.files),h.files!==void 0&&l.append("file",h.files[0]),f.value.length==0){J(),b.value=!0,z.add({severity:"error",summary:"Request Error",detail:"Dataset Acronym is required.",life:3e3});return}g.value=encodeURIComponent(g.value),l.forEach(p=>{console.log(p)}),await ne.post("/api/requests",l,{headers:{"Content-Type":"multipart/form-data"}}).then(p=>{console.log(p.data),H.value.close(f.value)}).catch(p=>{console.log(p),z.add({severity:"error",summary:"Upload Error",detail:p.response.data.detail,life:3e3}),J()})}return ie(f,h=>{b.value=h.length===0}),(h,l)=>{const p=n("Toast"),d=n("InputText"),N=n("Chips"),W=n("TextArea"),Y=n("Checkbox"),X=n("Button"),Z=n("FileUpload"),$=n("TabPanel"),ee=n("TabView"),s=se("tooltip");return u(),_("div",ue,[e("div",ce,[t(p,{position:"bottom-right"}),e("div",{id:"acronym",class:c([{error:b.value},"flex flex-column gap-2"])},[e("label",pe,[r(e("i",me,null,512),[[s,"Short name of the dataset (e.g. CESNET-TLS22) which is used as the unique identifier",void 0,{right:!0}]]),i(" Dataset Acronym* ")]),t(d,{id:"acronym",modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=a=>f.value=a),"aria-describedby":"acronym-help",placeholder:"Dataset Acronym",onBlur:l[1]||(l[1]=a=>b.value=f.value.length===0)},null,8,["modelValue"]),b.value?(u(),_("small",fe,[_e,i(" Dataset Acronym is required and must be unique. ")])):v("",!0)],2),e("div",he,[e("label",ve,[r(e("i",be,null,512),[[s,`Additional alias for the Dataset Acronym (e.g. CESNET-TLS22-XS).
Used to filter the different subsection of the original dataset`,void 0,{right:!0}]]),i(" Dataset Acronym Aliases ")]),e("div",ge,[r(t(N,{id:"acronym_aliases",modelValue:x.value,"onUpdate:modelValue":l[2]||(l[2]=a=>x.value=a),separator:",",placeholder:"Acronym Aliases...","add-on-blur":"true","allow-duplicate":"false"},null,8,["modelValue"]),[[s,"Acronym Aliases.",void 0,{bottom:!0}]])])]),e("div",{id:"title",class:c([{error:O.value},"flex flex-column gap-2"])},[e("label",ye,[r(e("i",xe,null,512),[[s,"Full name of the dataset",void 0,{right:!0}]]),i(" Dataset Title ")]),t(d,{id:"title",modelValue:U.value,"onUpdate:modelValue":l[3]||(l[3]=a=>U.value=a),"aria-describedby":"title-help",placeholder:"Dataset Title"},null,8,["modelValue"]),O.value?(u(),_("small",Ve,[Te,i(" Dataset Title is required. ")])):v("",!0)],2),e("div",{id:"name",class:c([{error:j.value},"flex flex-column gap-2"])},[e("label",De,[r(e("i",Ue,null,512),[[s,"Full name of the submitter",void 0,{right:!0}]]),i(" Submitter Name ")]),t(d,{id:"name",modelValue:g.value,"onUpdate:modelValue":l[4]||(l[4]=a=>g.value=a),"aria-describedby":"name-help",placeholder:"Name Surname"},null,8,["modelValue"]),j.value?(u(),_("small",Ee,[Ae,i(" Submitter Name is required. ")])):v("",!0)],2),e("div",{id:"email",class:c([{error:P.value},"flex flex-column gap-2"])},[e("label",Se,[r(e("i",ke,null,512),[[s,"Email of the submitter",void 0,{right:!0}]]),i(" Submitter Email ")]),t(d,{id:"email",modelValue:C.value,"onUpdate:modelValue":l[5]||(l[5]=a=>C.value=a),"aria-describedby":"email-help",placeholder:"submitter@email"},null,8,["modelValue"]),P.value?(u(),_("small",we,[Ce,i(" Submitter Email is required. ")])):v("",!0)],2),e("div",{id:"paperTitle",class:c([{error:R.value},"flex flex-column gap-2"])},[e("label",qe,[r(e("i",Ie,null,512),[[s,"Full title of the paper describing the dataset",void 0,{right:!0}]]),i(" Paper Title ")]),t(d,{id:"paperTitle",modelValue:E.value,"onUpdate:modelValue":l[6]||(l[6]=a=>E.value=a),"aria-describedby":"paperTitle-help",placeholder:"Paper Title"},null,8,["modelValue"]),R.value?(u(),_("small",Le,[Fe,i(" Paper Title is required. ")])):v("",!0)],2),e("div",{id:"datasetAuthors",class:c([{error:B.value},"flex flex-column gap-2"])},[e("label",Ne,[r(e("i",ze,null,512),[[s,"Authors of the dataset (comma separated)",void 0,{right:!0}]]),i(" Dataset Authors ")]),e("div",Oe,[r(t(N,{id:"authors",modelValue:V.value,"onUpdate:modelValue":l[7]||(l[7]=a=>V.value=a),separator:",",placeholder:"Authors...","add-on-blur":"true","allow-duplicate":"false"},null,8,["modelValue"]),[[s,"The dataset authors.",void 0,{bottom:!0}]])]),B.value?(u(),_("small",Re,[Be,i(" Dataset Author is required. ")])):v("",!0)],2),e("div",je,[e("label",Pe,[r(e("i",Je,null,512),[[s,"Short overview description of the dataset",void 0,{right:!0}]]),i(" Description ")]),r(t(W,{id:"description",modelValue:A.value,"onUpdate:modelValue":l[8]||(l[8]=a=>A.value=a),"aria-describedby":"description-help",placeholder:"Description...",rows:"5",cols:"30"},null,8,["modelValue"]),[[s,"The description of the dataset.",void 0,{bottom:!0}]])]),e("div",Xe,[e("label",$e,[r(e("i",Ge,null,512),[[s,"Identify file format of the dataset (e.g. pcap, json, txt, â€¦)",void 0,{right:!0}]]),i(" Dataset Format ")]),t(d,{id:"format",modelValue:S.value,"onUpdate:modelValue":l[9]||(l[9]=a=>S.value=a),class:c({error:K.value}),"aria-describedby":"format-help",placeholder:"Format"},null,8,["modelValue","class"])]),e("div",He,[e("label",Ke,[r(e("i",Me,null,512),[[s,"Use tags to categorize the dataset (comma separated)",void 0,{right:!0}]]),i(" Tags ")]),e("div",Qe,[r(t(N,{id:"tags",modelValue:T.value,"onUpdate:modelValue":l[10]||(l[10]=a=>T.value=a),separator:",",placeholder:"Tags...","add-on-blur":"true","allow-duplicate":"false"},null,8,["modelValue"]),[[s,"Tags to describe the dataset.",void 0,{bottom:!0}]])])]),e("div",We,[e("label",Ye,[r(e("i",Ze,null,512),[[s,"DOI of the dataset.",void 0,{right:!0}]]),i(" DOI ")]),t(d,{id:"doi",modelValue:k.value,"onUpdate:modelValue":l[11]||(l[11]=a=>k.value=a),class:c({error:M.value}),"aria-describedby":"doi-help",placeholder:"DOI"},null,8,["modelValue","class"])]),e("div",el,[e("label",ll,[r(e("i",al,null,512),[[s,"DOI of the original dataset",void 0,{right:!0}]]),i(" Origins DOI ")]),t(d,{id:"originsDoi",modelValue:w.value,"onUpdate:modelValue":l[12]||(l[12]=a=>w.value=a),class:c({error:Q.value}),"aria-describedby":"originsDoi-help",placeholder:"Origins DOI"},null,8,["modelValue","class"])]),e("div",ol,[e("label",tl,[r(e("i",il,null,512),[[s,"Upload a file or URL later.",void 0,{right:!0}]]),i(" Upload Later ")]),t(Y,{id:"uploadLater",modelValue:L.value,"onUpdate:modelValue":l[13]||(l[13]=a=>L.value=a),binary:!0},null,8,["modelValue"])]),L.value?(u(),G(X,{key:0,label:"Submit",icon:"pi pi-upload",onClick:F})):(u(),G(ee,{key:1,id:"dataset-upload"},{default:D(()=>[t($,{header:"Local File"},{default:D(()=>[t(Z,{name:"upload",auto:!1,multiple:!1,fileLimit:1,"custom-upload":"",ref_key:"fileUpload",ref:I,onUploader:F,"upload-label":"Submit"},{empty:D(()=>[sl]),_:1},512)]),_:1}),t($,{header:"URL"},{default:D(()=>[e("div",rl,[t(d,{id:"url",modelValue:q.value,"onUpdate:modelValue":l[14]||(l[14]=a=>q.value=a),"aria-describedby":"url-help",placeholder:"URL",class:"w-8"},null,8,["modelValue"]),t(X,{label:"Submit",icon:"pi pi-upload",onClick:F,class:"w-4"})])]),_:1})]),_:1})),dl])])}}},pl=le(nl,[["__scopeId","data-v-e22edea5"]]);export{pl as default};
