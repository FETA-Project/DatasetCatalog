import{q as Q,v as W,a as X,x as Y,r as a,y as Z,f as u,z as ee,o as f,h as _,j as e,i as t,A as c,B as r,k as s,l as h,w as T,C as le,D as oe}from"./entry.8ea22a4f.js";import{a as ae}from"./menu.6343a78a.js";const p=y=>(le("data-v-1deeabc4"),y=y(),oe(),y),te={id:"container",class:"card flex justify-content-center"},se={class:"flex flex-column gap-3 container"},ie={for:"title"},re={class:"pi pi-info-circle"},de={key:0,class:"p-error"},ne=p(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ue={for:"title"},ce={class:"pi pi-info-circle"},pe={key:0,class:"p-error"},me=p(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),fe={for:"name"},_e={class:"pi pi-info-circle"},ve={key:0,class:"p-error"},he=p(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),be={for:"email"},ge={class:"pi pi-info-circle"},ye={key:0,class:"p-error"},xe=p(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),Ve={for:"paperTitle"},Te={class:"pi pi-info-circle"},De={key:0,class:"p-error"},Ue=p(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),we={for:"authors"},Ee={class:"pi pi-info-circle"},qe={class:"card p-fluid p-hidden-label"},Ae={key:0,class:"p-error"},Ie=p(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ke={id:"description",class:"flex flex-column gap-2"},Ce={for:"Description"},Se={class:"pi pi-info-circle"},Oe={id:"tags",class:"flex flex-column gap-2"},Ne={for:"tags"},ze={class:"pi pi-info-circle"},Re={class:"card p-fluid p-hidden-label"},Be={id:"doi",class:"flex flex-column gap-2"},je={for:"doi"},Fe={class:"pi pi-info-circle"},Pe={id:"originsDoi",class:"flex flex-column gap-2"},Le={for:"originsDoi"},Je={class:"pi pi-info-circle"},$e=p(()=>e("p",{class:"flex justify-content-center"}," Drag and drop file here to upload. ",-1)),Ge={class:"flex justify-content-center gap-2"},He=p(()=>e("footer",null,[e("small",null,"* required field")],-1)),Ke={__name:"upload",setup(y){W();const C=X(),L=Y("dialogRef"),m=a(""),b=a(!1),D=a(""),S=a(!1),U=a(""),O=a(!1),x=a(""),N=a(!1),w=a("");a(!1);const E=a(""),J=a(!1),q=a(""),$=a(!1),g=a(""),z=a(!1),A=a(""),R=a(!1),I=a("");a(!1);const k=a(null),V=a();function B(){k.value.clear(),k.value.uploadedFileCount=0}async function j(v){const l=new FormData;if(l.append("acronym",m.value),l.append("title",D.value),l.append("paper_title",U.value),l.append("authors",x.value===void 0?[]:x.value),l.append("description",w.value),l.append("doi",E.value),l.append("origins_doi",q.value),l.append("submitter",JSON.stringify({name:g.value,email:A.value})),l.append("tags",V.value===void 0?[]:V.value),l.append("url",I.value),console.log(v.files),v.files!==void 0&&l.append("file",v.files[0]),m.value.length==0){B(),b.value=!0,C.add({severity:"error",summary:"Request Error",detail:"Dataset Acronym is required.",life:3e3});return}g.value=encodeURIComponent(g.value),l.forEach(d=>{console.log(d)}),await ae.post("/api/requests",l,{headers:{"Content-Type":"multipart/form-data"}}).then(d=>{console.log(d.data),L.value.close(m.value)}).catch(d=>{console.log(d),C.add({severity:"error",summary:"Upload Error",detail:d.response.data.detail,life:3e3}),B()})}return Z(m,v=>{b.value=v.length===0}),(v,l)=>{const d=u("Toast"),n=u("InputText"),F=u("Chips"),G=u("TextArea"),H=u("FileUpload"),P=u("TabPanel"),K=u("Button"),M=u("TabView"),i=ee("tooltip");return f(),_("div",te,[e("div",se,[t(d,{position:"bottom-right"}),e("div",{id:"acronym",class:c([{error:b.value},"flex flex-column gap-2"])},[e("label",ie,[r(e("i",re,null,512),[[i,"Acronym of the dataset",void 0,{right:!0}]]),s(" Dataset Acronym* ")]),t(n,{id:"acronym",modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=o=>m.value=o),"aria-describedby":"acronym-help",placeholder:"Dataset Acronym",onBlur:l[1]||(l[1]=o=>b.value=m.value.length===0)},null,8,["modelValue"]),b.value?(f(),_("small",de,[ne,s(" Dataset Acronym is required and must be unique. ")])):h("",!0)],2),e("div",{id:"title",class:c([{error:S.value},"flex flex-column gap-2"])},[e("label",ue,[r(e("i",ce,null,512),[[i,"Title of the dataset",void 0,{right:!0}]]),s(" Dataset Title ")]),t(n,{id:"title",modelValue:D.value,"onUpdate:modelValue":l[2]||(l[2]=o=>D.value=o),"aria-describedby":"title-help",placeholder:"Dataset Title"},null,8,["modelValue"]),S.value?(f(),_("small",pe,[me,s(" Dataset Title is required. ")])):h("",!0)],2),e("div",{id:"name",class:c([{error:z.value},"flex flex-column gap-2"])},[e("label",fe,[r(e("i",_e,null,512),[[i,"Name and surname of the submitter.",void 0,{right:!0}]]),s(" Submitter Name ")]),t(n,{id:"name",modelValue:g.value,"onUpdate:modelValue":l[3]||(l[3]=o=>g.value=o),"aria-describedby":"name-help",placeholder:"Name Surname"},null,8,["modelValue"]),z.value?(f(),_("small",ve,[he,s(" Submitter Name is required. ")])):h("",!0)],2),e("div",{id:"email",class:c([{error:R.value},"flex flex-column gap-2"])},[e("label",be,[r(e("i",ge,null,512),[[i,"Email of the submitter.",void 0,{right:!0}]]),s(" Submitter Email ")]),t(n,{id:"email",modelValue:A.value,"onUpdate:modelValue":l[4]||(l[4]=o=>A.value=o),"aria-describedby":"email-help",placeholder:"submitter@email"},null,8,["modelValue"]),R.value?(f(),_("small",ye,[xe,s(" Submitter Email is required. ")])):h("",!0)],2),e("div",{id:"paperTitle",class:c([{error:O.value},"flex flex-column gap-2"])},[e("label",Ve,[r(e("i",Te,null,512),[[i,"Title of the dataset",void 0,{right:!0}]]),s(" Paper Title ")]),t(n,{id:"paperTitle",modelValue:U.value,"onUpdate:modelValue":l[5]||(l[5]=o=>U.value=o),"aria-describedby":"paperTitle-help",placeholder:"Paper Title"},null,8,["modelValue"]),O.value?(f(),_("small",De,[Ue,s(" Paper Title is required. ")])):h("",!0)],2),e("div",{id:"datasetAuthors",class:c([{error:N.value},"flex flex-column gap-2"])},[e("label",we,[r(e("i",Ee,null,512),[[i,"Authors of the dataset (split by a comma).",void 0,{right:!0}]]),s(" Dataset Authors ")]),e("div",qe,[r(t(F,{id:"authors",modelValue:x.value,"onUpdate:modelValue":l[6]||(l[6]=o=>x.value=o),separator:",",placeholder:"Authors...","add-on-blur":"true","allow-duplicate":"false"},null,8,["modelValue"]),[[i,"The dataset authors.",void 0,{bottom:!0}]])]),N.value?(f(),_("small",Ae,[Ie,s(" Dataset Author is required. ")])):h("",!0)],2),e("div",ke,[e("label",Ce,[r(e("i",Se,null,512),[[i,"Description of the dataset.",void 0,{right:!0}]]),s(" Description ")]),r(t(G,{id:"description",modelValue:w.value,"onUpdate:modelValue":l[7]||(l[7]=o=>w.value=o),"aria-describedby":"description-help",placeholder:"Description...",rows:"5",cols:"30"},null,8,["modelValue"]),[[i,"The description of the dataset.",void 0,{bottom:!0}]])]),e("div",Oe,[e("label",Ne,[r(e("i",ze,null,512),[[i,"Tags (words split by comma) to describe the dataset.",void 0,{right:!0}]]),s(" Tags ")]),e("div",Re,[r(t(F,{id:"tags",modelValue:V.value,"onUpdate:modelValue":l[8]||(l[8]=o=>V.value=o),separator:",",placeholder:"Tags...","add-on-blur":"true","allow-duplicate":"false"},null,8,["modelValue"]),[[i,"Tags to describe the dataset.",void 0,{bottom:!0}]])])]),e("div",Be,[e("label",je,[r(e("i",Fe,null,512),[[i,"DOI of the dataset.",void 0,{right:!0}]]),s(" DOI ")]),t(n,{id:"doi",modelValue:E.value,"onUpdate:modelValue":l[9]||(l[9]=o=>E.value=o),class:c({error:J.value}),"aria-describedby":"doi-help",placeholder:"DOI"},null,8,["modelValue","class"])]),e("div",Pe,[e("label",Le,[r(e("i",Je,null,512),[[i,"Origins DOI of the dataset.",void 0,{right:!0}]]),s(" Origins DOI ")]),t(n,{id:"originsDoi",modelValue:q.value,"onUpdate:modelValue":l[10]||(l[10]=o=>q.value=o),class:c({error:$.value}),"aria-describedby":"originsDoi-help",placeholder:"Origins DOI"},null,8,["modelValue","class"])]),t(M,{id:"dataset-upload"},{default:T(()=>[t(P,{header:"Local File"},{default:T(()=>[t(H,{name:"upload",auto:!1,multiple:!1,fileLimit:1,"custom-upload":"",ref_key:"fileUpload",ref:k,onUploader:j,"upload-label":"Submit"},{empty:T(()=>[$e]),_:1},512)]),_:1}),t(P,{header:"URL"},{default:T(()=>[e("div",Ge,[t(n,{id:"url",modelValue:I.value,"onUpdate:modelValue":l[11]||(l[11]=o=>I.value=o),"aria-describedby":"url-help",placeholder:"URL",class:"w-8"},null,8,["modelValue"]),t(K,{label:"Submit",icon:"pi pi-upload",onClick:j,class:"w-4"})])]),_:1})]),_:1}),He])])}}},We=Q(Ke,[["__scopeId","data-v-1deeabc4"]]);export{We as default};
