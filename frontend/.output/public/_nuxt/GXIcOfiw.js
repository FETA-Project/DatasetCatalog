import{_ as S,n as I,r as a,f as V,c as i,b as t,w as T,an as G,o as u,y as j,ao as A,a as n,C as g,G as H,v as s,s as v,d as w,D as J,af as K}from"./NsHqofmf.js";import{a as C}from"./DW_MHI2K.js";const M={class:"flex flex-col gap-4 container"},O={class:"flex flex-col gap-4"},Q={key:0,class:"p-error"},W={key:1,class:"p-error"},X={class:"flex flex-col gap-4"},Y={key:0,class:"p-error"},Z={key:1,class:"p-error"},ee={key:2,class:"p-error"},le={key:3,class:"p-error"},se={key:4,class:"p-error"},re={__name:"login",setup(ae){const R=I(),_=a(""),q=a(!1),y=a(""),z=a(!1),D=()=>_.value==""?(q.value=!0,!1):y.value==""?(z.value=!0,!1):!0,E=()=>{const l=new FormData;l.append("email",_.value),l.append("password",y.value),console.log("login"),console.log(l),D()&&C.post("/auth/login",l).then(e=>{K("/")}).catch(e=>{R.add({severity:"error",summary:"Login Failed",detail:"There was an error logging in",life:3e3})})},d=a(""),x=a(!1),p=a(""),k=a(!1),m=a(""),b=a(!1),o=a(""),B=a(!1),c=a(""),$=a(!1),F=()=>d.value==""?(x.value=!0,!1):p.value==""?(k.value=!0,!1):m.value==""?(b.value=!0,!1):o.value==""?(B.value=!0,!1):c.value==""?($.value=!0,!1):!0,P=()=>{const l=new FormData;if(l.append("email",d.value),l.append("name",p.value),l.append("surname",m.value),l.append("password",o.value),!F()){console.log("Form is not valid");return}C.post("/auth/register",l).then(e=>{console.log(e.data),R.add({severity:"success",summary:"Register Success",detail:"Registration successful",life:3e3})}).catch(e=>{R.add({severity:"error",summary:"Register Failed",detail:e.response.data,life:3e3})})};return V(d,l=>{x.value=l.length===0}),V(p,l=>{k.value=l.length===0}),V(m,l=>{b.value=l.length===0}),V(o,l=>{B.value=l.length===0}),V(c,l=>{$.value=l.length===0||l!==o}),(l,e)=>{const h=j,f=H,U=J,N=A,L=G;return u(),i("div",M,[t(h,{position:"bottom-right"}),t(L,{id:"login-register"},{default:T(()=>[t(N,{header:"Login"},{default:T(()=>[n("div",O,[t(f,{id:"email",autocomplete:"email",modelValue:s(_),"onUpdate:modelValue":e[0]||(e[0]=r=>v(_)?_.value=r:null),placeholder:"Email",type:"text"},null,8,["modelValue"]),s(q)?(u(),i("small",Q,e[12]||(e[12]=[n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1),w(" Email is required. ")]))):g("",!0),t(f,{id:"password",autocomplete:"current-password",modelValue:s(y),"onUpdate:modelValue":e[1]||(e[1]=r=>v(y)?y.value=r:null),placeholder:"password",type:"password"},null,8,["modelValue"]),s(z)?(u(),i("small",W,e[13]||(e[13]=[n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1),w(" Password is required. ")]))):g("",!0),t(U,{label:"Login",onClick:E})])]),_:1}),t(N,{header:"Register"},{default:T(()=>[n("div",X,[t(f,{id:"register-email",autocomplete:"email",modelValue:s(d),"onUpdate:modelValue":e[2]||(e[2]=r=>v(d)?d.value=r:null),placeholder:"Email",type:"text",onBlur:e[3]||(e[3]=r=>x.value=s(d).length===0)},null,8,["modelValue"]),s(x)?(u(),i("small",Y,e[14]||(e[14]=[n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1),w(" Email is required. ")]))):g("",!0),t(f,{id:"register-name",autocomplete:"name",modelValue:s(p),"onUpdate:modelValue":e[4]||(e[4]=r=>v(p)?p.value=r:null),placeholder:"Name",type:"text",onBlur:e[5]||(e[5]=r=>k.value=s(p).length===0)},null,8,["modelValue"]),s(k)?(u(),i("small",Z,e[15]||(e[15]=[n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1),w(" Name is required. ")]))):g("",!0),t(f,{id:"register-surname",autocomplete:"surname",modelValue:s(m),"onUpdate:modelValue":e[6]||(e[6]=r=>v(m)?m.value=r:null),placeholder:"Surname",type:"text",onBlur:e[7]||(e[7]=r=>b.value=s(m).length===0)},null,8,["modelValue"]),s(b)?(u(),i("small",ee,e[16]||(e[16]=[n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1),w(" Surname is required. ")]))):g("",!0),t(f,{id:"register-password",autocomplete:"password",modelValue:s(o),"onUpdate:modelValue":e[8]||(e[8]=r=>v(o)?o.value=r:null),placeholder:"Password",type:"password",onBlur:e[9]||(e[9]=r=>B.value=s(o).length===0)},null,8,["modelValue"]),s(B)?(u(),i("small",le,e[17]||(e[17]=[n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1),w(" Password is required. ")]))):g("",!0),t(f,{id:"repeat-password",modelValue:s(c),"onUpdate:modelValue":e[10]||(e[10]=r=>v(c)?c.value=r:null),placeholder:"Repeat Password",type:"password",onBlur:e[11]||(e[11]=r=>$.value=s(c).length===0||s(c)!==s(o))},null,8,["modelValue"]),s($)?(u(),i("small",se,e[18]||(e[18]=[n("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1),w(" Repeat password is required and both passwords must match. ")]))):g("",!0),t(U,{label:"Register",onClick:P})])]),_:1})]),_:1})])}}},ne=S(re,[["__scopeId","data-v-0bbd3ef1"]]);export{ne as default};
