import{q as W,v as X,a as Y,x as Z,r as o,y as ee,f as u,z as le,o as f,h as _,j as e,i as t,A as c,B as r,k as s,l as h,w as D,C as ae,D as oe}from"./entry.6c939bcc.js";import{a as te}from"./menu.da64e2da.js";const p=g=>(ae("data-v-24c346b8"),g=g(),oe(),g),se={id:"container",class:"card flex justify-content-center"},ie={class:"flex flex-column gap-3 container"},re={for:"title"},de={class:"pi pi-info-circle"},ne={key:0,class:"p-error"},ue=p(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ce={id:"acronym_aliases",class:"flex flex-column gap-2"},pe={for:"acronym_aliases"},me={class:"pi pi-info-circle"},fe={class:"card p-fluid p-hidden-label"},_e={for:"title"},ve={class:"pi pi-info-circle"},he={key:0,class:"p-error"},be=p(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ye={for:"name"},ge={class:"pi pi-info-circle"},xe={key:0,class:"p-error"},Ve=p(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),Te={for:"email"},De={class:"pi pi-info-circle"},Ue={key:0,class:"p-error"},Ae=p(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),we={for:"paperTitle"},Ee={class:"pi pi-info-circle"},qe={key:0,class:"p-error"},Ie=p(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ke={for:"authors"},Ce={class:"pi pi-info-circle"},Se={class:"card p-fluid p-hidden-label"},Oe={key:0,class:"p-error"},Ne=p(()=>e("i",{class:"pi pi-exclamation-circle",style:{"font-size":"0.8rem"}},null,-1)),ze={id:"description",class:"flex flex-column gap-2"},Re={for:"Description"},Be={class:"pi pi-info-circle"},je={id:"tags",class:"flex flex-column gap-2"},Fe={for:"tags"},Pe={class:"pi pi-info-circle"},Le={class:"card p-fluid p-hidden-label"},Je={id:"doi",class:"flex flex-column gap-2"},$e={for:"doi"},Ge={class:"pi pi-info-circle"},He={id:"originsDoi",class:"flex flex-column gap-2"},Ke={for:"originsDoi"},Me={class:"pi pi-info-circle"},Qe=p(()=>e("p",{class:"flex justify-content-center"}," Drag and drop file here to upload. ",-1)),We={class:"flex justify-content-center gap-2"},Xe=p(()=>e("footer",null,[e("small",null,"* required field")],-1)),Ye={__name:"upload",setup(g){X();const O=Y(),J=Z("dialogRef"),m=o(""),b=o(!1),x=o("");o(!1);const U=o(""),N=o(!1),A=o(""),z=o(!1),V=o(""),R=o(!1),w=o("");o(!1);const E=o(""),$=o(!1),q=o(""),G=o(!1),y=o(""),B=o(!1),I=o(""),j=o(!1),k=o("");o(!1);const C=o(null),T=o();function F(){C.value.clear(),C.value.uploadedFileCount=0}async function P(v){const l=new FormData;if(l.append("acronym",m.value),l.append("acronym_aliases",x.value===void 0?[]:x.value),l.append("title",U.value),l.append("paper_title",A.value),l.append("authors",V.value===void 0?[]:V.value),l.append("description",w.value),l.append("doi",E.value),l.append("origins_doi",q.value),l.append("submitter",JSON.stringify({name:y.value,email:I.value})),l.append("tags",T.value===void 0?[]:T.value),l.append("url",k.value),console.log(v.files),v.files!==void 0&&l.append("file",v.files[0]),m.value.length==0){F(),b.value=!0,O.add({severity:"error",summary:"Request Error",detail:"Dataset Acronym is required.",life:3e3});return}y.value=encodeURIComponent(y.value),l.forEach(d=>{console.log(d)}),await te.post("/api/requests",l,{headers:{"Content-Type":"multipart/form-data"}}).then(d=>{console.log(d.data),J.value.close(m.value)}).catch(d=>{console.log(d),O.add({severity:"error",summary:"Upload Error",detail:d.response.data.detail,life:3e3}),F()})}return ee(m,v=>{b.value=v.length===0}),(v,l)=>{const d=u("Toast"),n=u("InputText"),S=u("Chips"),H=u("TextArea"),K=u("FileUpload"),L=u("TabPanel"),M=u("Button"),Q=u("TabView"),i=le("tooltip");return f(),_("div",se,[e("div",ie,[t(d,{position:"bottom-right"}),e("div",{id:"acronym",class:c([{error:b.value},"flex flex-column gap-2"])},[e("label",re,[r(e("i",de,null,512),[[i,"Acronym of the dataset",void 0,{right:!0}]]),s(" Dataset Acronym* ")]),t(n,{id:"acronym",modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=a=>m.value=a),"aria-describedby":"acronym-help",placeholder:"Dataset Acronym",onBlur:l[1]||(l[1]=a=>b.value=m.value.length===0)},null,8,["modelValue"]),b.value?(f(),_("small",ne,[ue,s(" Dataset Acronym is required and must be unique. ")])):h("",!0)],2),e("div",ce,[e("label",pe,[r(e("i",me,null,512),[[i,"Acronym Aliases (words split by comma).",void 0,{right:!0}]]),s(" Dataset Acronym Aliases ")]),e("div",fe,[r(t(S,{id:"acronym_aliases",modelValue:x.value,"onUpdate:modelValue":l[2]||(l[2]=a=>x.value=a),separator:",",placeholder:"Acronym Aliases...","add-on-blur":"true","allow-duplicate":"false"},null,8,["modelValue"]),[[i,"Acronym Aliases.",void 0,{bottom:!0}]])])]),e("div",{id:"title",class:c([{error:N.value},"flex flex-column gap-2"])},[e("label",_e,[r(e("i",ve,null,512),[[i,"Title of the dataset",void 0,{right:!0}]]),s(" Dataset Title ")]),t(n,{id:"title",modelValue:U.value,"onUpdate:modelValue":l[3]||(l[3]=a=>U.value=a),"aria-describedby":"title-help",placeholder:"Dataset Title"},null,8,["modelValue"]),N.value?(f(),_("small",he,[be,s(" Dataset Title is required. ")])):h("",!0)],2),e("div",{id:"name",class:c([{error:B.value},"flex flex-column gap-2"])},[e("label",ye,[r(e("i",ge,null,512),[[i,"Name and surname of the submitter.",void 0,{right:!0}]]),s(" Submitter Name ")]),t(n,{id:"name",modelValue:y.value,"onUpdate:modelValue":l[4]||(l[4]=a=>y.value=a),"aria-describedby":"name-help",placeholder:"Name Surname"},null,8,["modelValue"]),B.value?(f(),_("small",xe,[Ve,s(" Submitter Name is required. ")])):h("",!0)],2),e("div",{id:"email",class:c([{error:j.value},"flex flex-column gap-2"])},[e("label",Te,[r(e("i",De,null,512),[[i,"Email of the submitter.",void 0,{right:!0}]]),s(" Submitter Email ")]),t(n,{id:"email",modelValue:I.value,"onUpdate:modelValue":l[5]||(l[5]=a=>I.value=a),"aria-describedby":"email-help",placeholder:"submitter@email"},null,8,["modelValue"]),j.value?(f(),_("small",Ue,[Ae,s(" Submitter Email is required. ")])):h("",!0)],2),e("div",{id:"paperTitle",class:c([{error:z.value},"flex flex-column gap-2"])},[e("label",we,[r(e("i",Ee,null,512),[[i,"Title of the dataset",void 0,{right:!0}]]),s(" Paper Title ")]),t(n,{id:"paperTitle",modelValue:A.value,"onUpdate:modelValue":l[6]||(l[6]=a=>A.value=a),"aria-describedby":"paperTitle-help",placeholder:"Paper Title"},null,8,["modelValue"]),z.value?(f(),_("small",qe,[Ie,s(" Paper Title is required. ")])):h("",!0)],2),e("div",{id:"datasetAuthors",class:c([{error:R.value},"flex flex-column gap-2"])},[e("label",ke,[r(e("i",Ce,null,512),[[i,"Authors of the dataset (split by a comma).",void 0,{right:!0}]]),s(" Dataset Authors ")]),e("div",Se,[r(t(S,{id:"authors",modelValue:V.value,"onUpdate:modelValue":l[7]||(l[7]=a=>V.value=a),separator:",",placeholder:"Authors...","add-on-blur":"true","allow-duplicate":"false"},null,8,["modelValue"]),[[i,"The dataset authors.",void 0,{bottom:!0}]])]),R.value?(f(),_("small",Oe,[Ne,s(" Dataset Author is required. ")])):h("",!0)],2),e("div",ze,[e("label",Re,[r(e("i",Be,null,512),[[i,"Description of the dataset.",void 0,{right:!0}]]),s(" Description ")]),r(t(H,{id:"description",modelValue:w.value,"onUpdate:modelValue":l[8]||(l[8]=a=>w.value=a),"aria-describedby":"description-help",placeholder:"Description...",rows:"5",cols:"30"},null,8,["modelValue"]),[[i,"The description of the dataset.",void 0,{bottom:!0}]])]),e("div",je,[e("label",Fe,[r(e("i",Pe,null,512),[[i,"Tags (words split by comma) to describe the dataset.",void 0,{right:!0}]]),s(" Tags ")]),e("div",Le,[r(t(S,{id:"tags",modelValue:T.value,"onUpdate:modelValue":l[9]||(l[9]=a=>T.value=a),separator:",",placeholder:"Tags...","add-on-blur":"true","allow-duplicate":"false"},null,8,["modelValue"]),[[i,"Tags to describe the dataset.",void 0,{bottom:!0}]])])]),e("div",Je,[e("label",$e,[r(e("i",Ge,null,512),[[i,"DOI of the dataset.",void 0,{right:!0}]]),s(" DOI ")]),t(n,{id:"doi",modelValue:E.value,"onUpdate:modelValue":l[10]||(l[10]=a=>E.value=a),class:c({error:$.value}),"aria-describedby":"doi-help",placeholder:"DOI"},null,8,["modelValue","class"])]),e("div",He,[e("label",Ke,[r(e("i",Me,null,512),[[i,"Origins DOI of the dataset.",void 0,{right:!0}]]),s(" Origins DOI ")]),t(n,{id:"originsDoi",modelValue:q.value,"onUpdate:modelValue":l[11]||(l[11]=a=>q.value=a),class:c({error:G.value}),"aria-describedby":"originsDoi-help",placeholder:"Origins DOI"},null,8,["modelValue","class"])]),t(Q,{id:"dataset-upload"},{default:D(()=>[t(L,{header:"Local File"},{default:D(()=>[t(K,{name:"upload",auto:!1,multiple:!1,fileLimit:1,"custom-upload":"",ref_key:"fileUpload",ref:C,onUploader:P,"upload-label":"Submit"},{empty:D(()=>[Qe]),_:1},512)]),_:1}),t(L,{header:"URL"},{default:D(()=>[e("div",We,[t(n,{id:"url",modelValue:k.value,"onUpdate:modelValue":l[12]||(l[12]=a=>k.value=a),"aria-describedby":"url-help",placeholder:"URL",class:"w-8"},null,8,["modelValue"]),t(M,{label:"Submit",icon:"pi pi-upload",onClick:P,class:"w-4"})])]),_:1})]),_:1}),Xe])])}}},ll=W(Ye,[["__scopeId","data-v-24c346b8"]]);export{ll as default};
